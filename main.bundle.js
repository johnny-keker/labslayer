!function(e){function t(t){for(var o,r,a=t[0],c=t[1],h=t[2],p=0,d=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(l&&l(t);d.length;)d.shift()();return n.push.apply(n,h||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],o=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var o={},i={0:0},n=[];function r(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=o,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var l=c;n.push([9,1]),s()}({5:function(e,t,s){var o=s(6),i=s(7);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};o(i,n);e.exports=i.locals||{}},7:function(e,t,s){"use strict";s.r(t);var o=s(2),i=s.n(o)()(!1);i.push([e.i,"html, body {\r\n  overflow: hidden;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  justify-content: center;\r\n  display: flex;\r\n  /*background-color: black;*/\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n\r\n.controls {\r\n  color: white;\r\n  border-style: solid;\r\n  border-radius: 10px;\r\n  width: 30%;\r\n}\r\n\r\n.controls__slider {\r\n  display: inline-block;\r\n  margin: 3px;\r\n  margin-left: 11%;\r\n}\r\n\r\nimg {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 99;\r\n}\r\n\r\ncanvas {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n}\r\n\r\n.parent {\r\n  position: relative;\r\n}\r\n",""]),t.default=i},9:function(e,t,s){"use strict";s.r(t);s(5);var o=s(0);class i{constructor(e){const t=e.domElement.width/e.domElement.height;this.threeCamera=new o.x(60,t,.1,1500),this.threeCamera.position.set(0,10,0),this.updateSize(e),window.addEventListener("resize",()=>this.updateSize(e),!1)}updateSize(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}class n{constructor(e,t){this.container=e,this.threeRenderer=new o.K({antialias:!0,canvas:t}),this.threeRenderer.outputEncoding=o.n,this.threeRenderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.threeRenderer.domElement),this.updateSize(),document.addEventListener("DOMContentLoaded",()=>this.updateSize(),!1),window.addEventListener("resize",()=>this.updateSize(),!1)}updateSize(){this.threeRenderer.setSize(window.innerWidth,window.innerHeight)}render(e,t){this.threeRenderer.render(e,t)}}var r=s.p+"img/6b2d72d429af0e767f6a2320fab6cd6e.png";new o.w({color:10234131});let a=[{sX:150,sY:300,pX:0,pZ:-140},{sX:630,sY:90,pX:0,pZ:-335},{sX:90,sY:450,pX:-270,pZ:-605},{sX:90,sY:450,pX:270,pZ:-605},{sX:630,sY:90,pX:0,pZ:-875},{sX:150,sY:90,pX:-150,pZ:-605},{sX:150,sY:90,pX:150,pZ:-605},{sX:50,sY:50,pX:-50,pZ:-605},{sX:50,sY:50,pX:50,pZ:-605},{sX:150,sY:50,pX:0,pZ:-555},{sX:150,sY:50,pX:0,pZ:-655},{sX:150,sY:300,pX:0,pZ:-1070}];class c{constructor(){this.planes=[];const e=new o.I;a.forEach(t=>{let s=e.load(r);s.wrapS=o.D,s.wrapT=o.D,s.repeat.set(t.sX/30,t.sY/30);let i=new o.w({map:s});var n=new o.u(new o.y(t.sX,t.sY,1,1),i);n.rotation.x=-Math.PI/2,n.position.y=-18,n.position.x+=t.pX,n.position.z+=t.pZ,this.planes.push(n)})}}var h=s.p+"img/c287d268865cf4e56d77234a75027be8.png";class l{constructor(e){let t=(new o.I).load(h);t.wrapS=o.D,t.wrapT=o.D,t.repeat.set(100,100),e.uTexture={type:"t",value:t};let s=new o.F({vertexShader:"\nuniform float uPhase;\n\nvarying vec2 vTexcoord;\n\nvoid main() {\n  vec4 pos = vec4(position, 1.0);\n  pos.z = 1.0 * sin(0.4 * pos.x + uPhase) * sin(0.4 * pos.y + uPhase);\n  vTexcoord = vec2(round(pos.x) / 40.0, round(pos.y) / 40.0);\n  gl_Position = projectionMatrix * modelViewMatrix * pos;\n}",fragmentShader:"\nvarying vec2 vTexcoord;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexcoord);\n  //gl_FragColor = vec4(0.0, 0.7, 0.0, 1.0);\n}",uniforms:e}),i=new o.u(new o.y(540,540,100,100),s);i.geometry.vertices,i.rotation.x=-Math.PI/2,i.position.y=-20,i.position.z-=605,this.plane=i}}var p=s.p+"img/52789f58fe0f3121400e8e4de4a96c4a.png";let d=[{sX:150,pX:0,pZ:10,r:Math.PI},{sX:300,pX:-75,pZ:-140,r:Math.PI/2},{sX:300,pX:75,pZ:-140,r:-Math.PI/2},{sX:240,pX:-195,pZ:-290,r:Math.PI},{sX:240,pX:195,pZ:-290,r:Math.PI},{sX:240,pX:-195,pZ:-290,r:Math.PI},{sX:630,pX:-315,pZ:-605,r:Math.PI/2},{sX:630,pX:315,pZ:-605,r:-Math.PI/2},{sX:240,pX:-195,pZ:-920,r:0},{sX:240,pX:195,pZ:-920,r:0},{sX:150,pX:0,pZ:-1220,r:0},{sX:300,pX:-75,pZ:-1070,r:Math.PI/2},{sX:300,pX:75,pZ:-1070,r:-Math.PI/2}];class u{constructor(){this.planes=[];const e=new o.I;d.forEach(t=>{let s=e.load(p);s.wrapS=o.D,s.wrapT=o.D,s.repeat.set(t.sX/60,1);let i=new o.w({map:s,metalness:1});var n=new o.u(new o.y(t.sX,70,1,1),i);n.rotation.y=t.r,n.position.x+=t.pX,n.position.z+=t.pZ,n.position.y=17,n.receiveShadow=!0,this.planes.push(n)})}}var m=s.p+"img/e78e12421b46db6cc9145a15dda6f6dd.png";new o.w({color:10234131});let w=[{sX:150,sY:1230,pX:0,pZ:-605},{sX:240,sY:630,pX:195,pZ:-605},{sX:240,sY:630,pX:-195,pZ:-605}];class f{constructor(){this.planes=[];const e=new o.I;w.forEach(t=>{let s=e.load(m);s.wrapS=o.D,s.wrapT=o.D,s.repeat.set(t.sX/30,t.sY/30);let i=new o.w({map:s});var n=new o.u(new o.y(t.sX,t.sY,1,1),i);n.rotation.x=Math.PI/2,n.position.y=52,n.position.x+=t.pX,n.position.z+=t.pZ,this.planes.push(n)})}}var v=s.p+"img/3d7f09356ac3831b5cafd515759531fb.png";class b{constructor(e,t,s=2,i=50,n=30){const r=new o.f,a=[];this.scene=e,this.lifespan=s;const c=(new o.I).load(v);for(let e=0;e<n;e++){const e=Math.random()*i-i/2,t=Math.random()*i-i/2,s=Math.random()*i-i/2;a.push(e,t,s)}r.setAttribute("position",new o.m(a,3));const h=[0,1,0],l=c,p=new o.B({size:10,map:l,blending:o.a,depthTest:!0,transparent:!0});p.color.setRGB(h[0],h[1],h[2]),this.materials=p;const d=new o.A(r,p);d.position.set(t.x,t.y,t.z),e.add(d),this.particles=d}update(e){return this.lifespan-=e,this.lifespan<0?(this.scene.remove(this.particles),!1):(this.particles.position.y-=10*e,!0)}}class g{constructor(e,t){const s=new o.f,i=[];this.scene=e,this.lifespan=.1,this.camera=t;const n=(new o.I).load(v);i.push(0,0,0),s.setAttribute("position",new o.m(i,3)),this.geometry=s;const r=[1,.2,0],a=n,c=new o.B({size:2,map:a,blending:o.a,depthTest:!1,transparent:!0});c.color.setRGB(r[0],r[1],r[2]),this.materials=c;const h=new o.A(s,c);this.particles=h}shoot(){this.particles=new o.A(this.geometry,this.materials),this.particles.position.copy(this.camera.position);let e=new o.J;e.setFromMatrixColumn(this.camera.matrix,0),e.crossVectors(new o.J(0,1,0),e),this.particles.position.addScaledVector(e,1.5);let t=new o.J;this.camera.getWorldDirection(t),this.particles.position.y+=1.57*t.y,this.scene.add(this.particles),this.lifespan=.1}update(e){this.lifespan-=e,this.lifespan<0&&this.scene.remove(this.particles),this.particles.position.copy(this.camera.position);let t=new o.J;t.setFromMatrixColumn(this.camera.matrix,0),t.crossVectors(new o.J(0,1,0),t),this.particles.position.addScaledVector(t,1.5);let s=new o.J;this.camera.getWorldDirection(s),this.particles.position.y+=1.57*s.y}}var y=s.p+"img/fd7c199495241f0385cd56eb5b493646.png";let x=new o.w({color:8883343});class X{constructor(e,t,s,i,n,r,a,c){this.scene=s,this.timer=1.5,this.player=t,this.bullets=e,this.walls=r,this.hp=10,this.boss=a,this.particles=c;let h=(new o.I).load(y),l=new o.w({color:1942335,map:h});var p=new o.u(new o.g(10,30),x);p.position.x=i,p.position.z=n,p.position.y=-10,p.castShadow=!0,p.receiveShadow=!0,s.add(p),this.downCone=p;var d=new o.u(new o.G(10,10,100,100),l);d.position.x=i,d.position.z=n,d.position.y=15,d.castShadow=!0,d.receiveShadow=!0,s.add(d),this.sphere=d;var u=new o.u(new o.g(10,30),x);u.rotation.x=Math.PI,u.position.x=i,u.position.z=n,u.position.y=40,u.castShadow=!0,u.receiveShadow=!0,s.add(u),this.upCone=u}onhit(){this.particles.push(new b(this.scene,this.sphere.position)),this.hp--,0==this.hp&&(this.scene.remove(this.sphere),this.scene.remove(this.upCone),this.scene.remove(this.downCone))}shoot(e){this.sphere.lookAt(e);let t=new o.J;this.sphere.getWorldDirection(t);let s=new o.C(this.sphere.position,t.normalize(),0,2e3),i=new o.u(new o.G(1,1),x);i.position.set(e.x,e.y,e.z),i.updateMatrixWorld();let n=s.intersectObject(i)[0].distance,r=s.intersectObjects(this.walls)[0],a=0;a=void 0===r?1e3:r.distance;let c=s.intersectObject(this.boss.hitbox)[0],h=0;if(h=void 0===c?1e5:c.distance,a<n||h<n)return;let l=0;l=a<h?a:h;var p=new o.u(new o.G(6,6),x);p.position.copy(this.sphere.position),p.lookAt(e),this.bullets.push({object:p,dis:l}),this.scene.add(p)}update(e){this.timer-=e,this.timer<=0&&(this.shoot(this.player.position),this.timer=1.5)}}var k=s(3),E=s.p+"models/7b16373429087dffd6b28318e93b9938.obj",M=s.p+"img/b2f29afe1ab3172bf9e31838d864e35a.png",P=s.p+"img/1664163c83c35250d6f22600c852eed2.jpg",C=s.p+"img/ee0032efd5853d08826c96da44233095.png";let S=new o.w({color:10859945});const L=Math.PI/20;class z{constructor(e,t,s,i){const n=new k.a;this.object=null,this.timeout=5,this.current_rotation=0,this.current_bullets_count=0,this.bullets=t,this.scene=e,this.walls=s,this.hitbox=new o.u(new o.e(45,300,45)),this.hitbox.position.set(0,0,-605),this.hitbox.visible=!1,this.killed=!1,this.particles=i,e.add(this.hitbox),n.load(E,t=>{let s=new o.I,i=s.load(M,(function(){})),n=s.load(P,(function(){})),r=s.load(C,(function(){})),a=s.load(C,(function(){})),c=s.load(C,(function(){}));i.mapping=o.i,i.needsUpdate=!0,t.traverse((function(e){e instanceof o.u&&(e.material=new o.w({emissiveMap:n,emissive:1942335,emissiveIntensity:1,metalnessMap:r,metalness:1,roughnessMap:a,roughness:1,normalMap:c}),e.material.map=i,e.material.envMap=i,e.castShadow=!0,e.receiveShadow=!0)})),t.castShadow=!0,t.receiveShadow=!0,t.position.set(0,-23,-605),t.scale.set(.15,.15,.15),e.add(t),this.object=t},(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened")}))}onhit(){this.killed||(this.scene.remove(this.object),this.scene.remove(this.hitbox),this.killed=!0,this.particles.push(new b(this.scene,this.hitbox.position,30,400,200)))}update(e){if(this.killed)return;if(this.timeout-=e,this.timeout>0)return;var t=new o.u(new o.G(8,8),S);t.position.set(0,10,-605),t.rotation.y=this.current_rotation;let s=new o.J;t.getWorldDirection(s);let i=new o.C(t.position,s.normalize(),0,2e3).intersectObjects(this.walls)[0],n=0;n=void 0===i?1e3:i.distance,this.current_rotation+=L,this.bullets.push({object:t,dis:n}),this.scene.add(t),this.current_bullets_count++,40==this.current_bullets_count?(this.timeout=5,this.current_rotation=0):this.timeout=1}}class j{constructor(e,t,s,o){this.floor=new c,this.floor.planes.forEach(t=>{e.add(t)}),this.roof=new f,this.roof.planes.forEach(t=>{e.add(t)}),e.add(new l(t).plane),this.walls=new u,this.walls.planes.forEach(t=>{e.add(t)}),this.bullets=[],this.particles=[],this.boss=new z(e,this.bullets,this.walls.planes,this.particles),this.enemies=[new X(this.bullets,s,e,-270,-335,this.walls.planes,this.boss,this.particles),new X(this.bullets,s,e,270,-335,this.walls.planes,this.boss,this.particles),new X(this.bullets,s,e,270,-875,this.walls.planes,this.boss,this.particles),new X(this.bullets,s,e,-270,-875,this.walls.planes,this.boss,this.particles)],this.scene=e,this.camera=s,this.player=o}aliveEnemiesCount(){return this.enemies.filter(e=>e.hp>0).length}update(e){this.enemies.forEach(t=>{t.hp>0&&t.update(e)});for(let t=this.particles.length-1;t>=0;t--)this.particles[t].update(e)||(this.particles.splice(t,1),t--);if(this.boss.update(e),0!=this.bullets.length)for(let e=this.bullets.length-1;e>=0;e--){let t=this.bullets[e],s=new o.J;s.setFromMatrixColumn(t.object.matrix,0),s.crossVectors(new o.J(0,1,0),s),t.object.position.addScaledVector(s,-3),t.dis-=3,t.object.position.distanceTo(this.camera.position)<=10?(this.scene.remove(t.object),this.bullets.splice(e,1),this.player.onhit(),e--):t.dis<=0&&(this.scene.remove(t.object),this.bullets.splice(e,1),e--)}}moveLevel(e,t){this.elements.forEach(s=>{s.position.x+=e,s.position.z+=t})}}s(4);class _{constructor(e,t){var s=new o.p(16711680,16711680,.5);s.color.setHSL(.6,1,.6),s.groundColor.setHSL(.095,.8,.5),s.position.set(0,30,0);var i=new o.h(16777215,.1);i.position.set(0,10,0),i.castShadow=!0,i.shadow.camera.near=1,i.shadow.camera.far=2,i.shadow.camera.left=-.1,i.shadow.camera.bottom=-.1,i.shadow.camera.right=.1,i.shadow.camera.top=.1,i.shadow.bias=1e-4,i.target.position.set(0,0,1),i.shadow.radius=.1;let n=new o.H(16777215,.5,150);n.power=6,n.angle=.6,n.decay=1,n.penumbra=.5,n.distance=2e3,t.add(n.target),n.target.position.set(0,0,-1),n.position.copy(t.position),e.add(n),this.spotLight=n,this.camera=t;let r=new o.z(1942335,3);r.distance=500,r.position.set(0,30,-605),r.castShadow=!0,e.add(r),this.pointLight=r}updateSpotlight(e){this.pointLight.intensity=1+5*Math.max(Math.sin(e/700),0),this.spotLight.position.copy(this.camera.position)}}var I=s(1),Z=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var s,i=this,n={type:"change"},r={type:"lock"},a={type:"unlock"},c=new o.j(0,0,0,"YXZ"),h=Math.PI/2,l=new o.J;function p(t){if(!1!==i.isLocked){var s=t.movementX||t.mozMovementX||t.webkitMovementX||0,o=t.movementY||t.mozMovementY||t.webkitMovementY||0;c.setFromQuaternion(e.quaternion),c.y-=.002*s,c.x-=.002*o,c.x=Math.max(h-i.maxPolarAngle,Math.min(h-i.minPolarAngle,c.x)),e.quaternion.setFromEuler(c),i.dispatchEvent(n)}}function d(){i.domElement.ownerDocument.pointerLockElement===i.domElement?(i.dispatchEvent(r),i.isLocked=!0):(i.dispatchEvent(a),i.isLocked=!1)}function u(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){i.domElement.ownerDocument.addEventListener("mousemove",p,!1),i.domElement.ownerDocument.addEventListener("pointerlockchange",d,!1),i.domElement.ownerDocument.addEventListener("pointerlockerror",u,!1)},this.disconnect=function(){i.domElement.ownerDocument.removeEventListener("mousemove",p,!1),i.domElement.ownerDocument.removeEventListener("pointerlockchange",d,!1),i.domElement.ownerDocument.removeEventListener("pointerlockerror",u,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=(s=new o.J(0,0,-1),function(t){return t.copy(s).applyQuaternion(e.quaternion)}),this.moveForward=function(t,s){l.setFromMatrixColumn(e.matrix,0),l.crossVectors(e.up,l);var i=new o.J;return i.copy(s),i.addScaledVector(l,t),i},this.moveRight=function(t){l.setFromMatrixColumn(e.matrix,0);var s=new o.J;return s.copy(e.position),s.addScaledVector(l,t),s},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){i.domElement.ownerDocument.exitPointerLock()},this.connect()};(Z.prototype=Object.create(o.k.prototype)).constructor=Z;var D=s.p+"img/df4e87926436244f56b4791eb21e60fa.png",O=s.p+"img/a957d332f9eda3201d55866d2c565a56.png",J=s.p+"img/70c008656f61bd6ddb7806e9b3989032.png",Y=s.p+"img/156cb1a8b98da98635f87fea7c7a1459.png",T=s.p+"audio/d8f309eeab0b4e12e53d770c81435eec.ogg";let A=!1,R=!1,F=!1,V=!1;class q{constructor(e,t,s,i,n){this.level=s,this.camera=t,this.scene=e;let r=new Z(t,i);this.controls=r,this.shootCooldown=.6,this.fire=new g(e,t);let a=new o.b(n);(new o.d).load(T,(function(e){a.setBuffer(e),a.setLoop(!1),a.setVolume(.3)})),this.shootSound=a,this.huds=[J,O,D],this.hudId=2;const c=document.createElement("img");c.src=D,i.appendChild(c),this.hudImage=c,c.onclick=function(){r.lock()},this.gun_direction=new o.J(0,0,-1),this.gun_ray=new o.C(new o.J,new o.J(0,-1,0),0,1200),this.ground_ray=new o.C(new o.J,new o.J(0,-1,0),0,30),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),document.addEventListener("mousedown",e=>this.onMouseDown(),!1),this.velocity=new o.J,this.direction=new o.J,e.add(this.controls.getObject())}update(e){this.shootCooldown-=e,this.velocity.x-=4*this.velocity.x*e,this.velocity.z-=4*this.velocity.z*e,this.velocity.y-=9.8*100*e,this.direction.z=Number(A)-Number(F),this.direction.x=Number(V)-Number(R),this.direction.normalize(),(A||F)&&(this.velocity.z-=400*this.direction.z*e),(R||V)&&(this.velocity.x-=400*this.direction.x*e);var t=this.camera.position;let s;var o=this.camera.position;o=this.controls.moveRight(-this.velocity.x*e),this.ground_ray.ray.origin.copy(o),s=this.ground_ray.intersectObjects(this.level.floor.planes),0==s.length&&(o=t),t=o,o=this.controls.moveForward(-this.velocity.z*e,o),this.ground_ray.ray.origin.copy(o),s=this.ground_ray.intersectObjects(this.level.floor.planes),0==s.length&&(o=t),this.controls.getObject().position.set(o.x,o.y,o.z),this.fire.update(e)}onMouseDown(){if(!(this.shootCooldown>0))if(this.shootCooldown=.6,this.shootSound.play(),this.fire.shoot(),this.gun_direction.set(0,0,-1),this.gun_direction.unproject(this.camera),this.gun_ray.set(this.camera.position,this.gun_direction.sub(this.camera.position).normalize()),0!=this.level.aliveEnemiesCount())for(let e=0;e<this.level.enemies.length;e++){let t=this.level.enemies[e];0!=t.hp&&(this.gun_ray.intersectObjects([t.sphere,t.upCone,t.downCone]).length>0&&t.onhit())}else{this.gun_ray.intersectObject(this.level.boss.hitbox).length>0&&this.level.boss.onhit()}}onclick(){this.controls.lock()}onhit(){if(this.hudId--,-1==this.hudId)return this.controls.unlock(),this.hudImage.src=Y,void(this.hudImage.onclick=function(){});this.hudImage.src=this.huds[this.hudId]}onKeyDown(e){switch(e.keyCode){case 38:case 87:A=!0;break;case 37:case 65:R=!0;break;case 40:case 83:F=!0;break;case 39:case 68:V=!0}}onKeyUp(e){switch(e.keyCode){case 38:case 87:A=!1;break;case 37:case 65:R=!1;break;case 40:case 83:F=!1;break;case 39:case 68:V=!1}}}var G=s.p+"audio/e47ae177089422ff1e633c450fdc3f2b.ogg";if(I.a.isWebGLAvailable())!function(){let e=document.body;const t=new o.E,s=document.createElement("CANVAS");document.body.appendChild(s);let r=new n(e,s);s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock;const a=new i(r.threeRenderer);s.onclick=function(){d.onclick()};const c={uPhase:{value:0}},h=new o.c,l=new o.c;a.threeCamera.add(h),a.threeCamera.add(l);let p=new o.b(l);(new o.d).load(G,(function(e){p.setBuffer(e),p.setLoop(!0),p.setVolume(.2),p.play()}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}));let d=new q(t,a.threeCamera,null,e,h);const u=new j(t,c,a.threeCamera,d);d.level=u;const m=new _(t,a.threeCamera);let w=performance.now();!function e(){requestAnimationFrame(e),c.uPhase.value+=.1;const s=performance.now();if(!0===d.controls.isLocked){const e=(s-w)/1e3;d.update(e),u.update(e)}w=s,m.updateSpotlight(s),r.render(t,a.threeCamera)}()}();else{let e=I.a.getWebGLErrorMessage();document.body.appendChild(e)}}});